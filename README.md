# UrlShortener
Приложение UrlShortener предназначено для сокращения Url ссылок и редиректа сокращенных ссылок на оригинальные адреса.

В приложении используется фреймворк .Net7
Логирование осуществляется через Serilog.

Приложение разделено на проекты:
Запускаемый проект UrlShortener.MVC содержит MVC и API контроллеры и view-файлы. 
Проект UrlShortener.DAL содержит конфигурацию базы данных и определяет порядок соединения с ней.
Проект UrlShortener.BLL содержит модели и обработчики команд, а также сервисы, необходимые для работы приложения.
Проект Tests содержит юнит-тесты для обработчиков команд и сервисов.

Приложение поддерживает аутентификацию через cookies и авторизацию в ролях гостя, пользователя и админа.
Реализованы возможности админа по изменению пароля, просмотру статистики, удалению записей.
Сокращение ссылок и редирект на них работают и без авторизации.

Для работы с запросами используется библиотека MediatR, для валидации запросов используется FluentValidation.
Валидация запросов, требующая доступа к базе данных (уникальность логинов), происходит через обработку кастомных исключенй.

Используемая база данных - MS SQLServer + EF.

Перед помещением сокращенного Url в базу он проверяется на действительность и уникальность.
Сокращение Url осуществляется через кодирование в формете base62 (библиотека Base62Converter) и обрезание первых 7 знаков.

Тесты реализованы с использованием библиотеки Moq.
